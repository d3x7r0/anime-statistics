(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{RXBc:function(e,t,r){"use strict";r.r(t),r.d(t,"__N_SSG",(function(){return P}));var n=r("rePB"),a=r("FdF9"),c=r("2mXy"),o=r("MOxe"),l=r("LvDl"),u=r("6vW1"),i=r("wx14"),s=r("Ff2n");a.default.createElement;function b(e){var{entries:t=[],selected:r=[],onChange:n,onToggleAll:a,label:o}=e,l=Object(s.a)(e,["entries","selected","onChange","onToggleAll","label"]);return Object(c.h)("fieldset",l,Object(c.h)("legend",null,o,":"),t.map(e=>Object(c.h)(p,Object(i.a)({},e,{onChange:n,selected:r.includes(e.value),key:e.key||e.id}))),Object(c.h)("button",{type:"button",className:"pure-button",onClick:a},"Toggle All"))}function p(e){var{label:t,value:r,onChange:n,selected:a}=e,o="entry_".concat(r);return Object(c.h)("label",{htmlFor:o,className:"pure-checkbox"},Object(c.h)("input",{type:"checkbox",checked:a,onChange:e=>n(e.target.value,e.target.checked),value:r,id:o}),t)}var d=r("nytr");var O=r("waC8");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(e=>t.includes(e.key[0]))}function g(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var r=t.key[0];return e[r]=e[r]||[],e[r].push(t),e[r].sort((e,t)=>e.key[1]-t.key[1]),e},{})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=g(j(e,t.map(e=>e.key)));return t.map(e=>Object(O.a)(e)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{return e[t.key[1]]=t.value,e},{});return Object(O.b)(e)}(r[e.key])))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=g(j(e,t.map(e=>e.key)));return t.map(e=>Object(O.a)(e)(function(e){return e.map(e=>Math.round(e.sum/e.count||0))}(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>"tv"===e.key[1]).reduce((e,t)=>f(f({},e),{},{[t.key[2]]:t.value}),{});return Object(O.b)(e)}(r[e.key]))))}a.default.createElement;function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var{totals:t,episodeTotals:r,genres:n=[],themes:i=[],data:s,episodeData:p}=e,{0:O,1:h}=Object(o.k)([]),{0:f,1:j}=Object(o.k)([]),g=Object(o.a)((e,t)=>{h(r=>t?Object(l.uniq)(r.concat(e)):Object(l.without)(r,e))},[h]),m=Object(o.a)((e,t)=>{j(r=>t?Object(l.uniq)(r.concat(e)):Object(l.without)(r,e))},[j]),k=Object(o.a)(()=>h(e=>e.length===n.length?[]:n.map(e=>e.value)),[h,n]),P=Object(o.a)(()=>j(e=>e.length===i.length?[]:i.map(e=>e.value)),[j,i]),x=Object(o.h)(()=>i.reduce((e,t)=>w(w({},e),{},{[t.key]:t}),{}),[i]),N=Object(o.h)(()=>n.reduce((e,t)=>w(w({},e),{},{[t.key]:t}),{}),[n]),A=Object(o.h)(()=>O.map(e=>N[e]).concat(f.map(e=>x[e])),[O,f,N,x]),C=Object(o.h)(()=>v(s,A),[s,A]),D=Object(o.h)(()=>y(p,A),[p,A]),S=Object(o.h)(()=>(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=e.map(e=>{var r=Object.keys(t),n=Object.assign({},e);return n.data=n.data.map((e,n)=>{var a=r[n],c=e/t[a]*100;return c=c.toFixed(2),parseInt(c,10)}),n});return Object(d.a)(r,{scaleLabel:{display:!0,labelString:"percent"},ticks:{max:100,steps:20,beginAtZero:!0}})})(C,t),[C,t]),F=Object(o.h)(()=>(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Object(d.b)(e,t,{stacked:!0,scaleLabel:{display:!0,labelString:"percent"},ticks:{beginAtZero:!0}})})(C,t),[C,t]),T=Object(o.h)(()=>(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=[{label:"total",data:Object.keys(t).map(e=>t[e]),fill:!1}].concat(e);return Object(d.a)(r,{scaleLabel:{display:!0,labelString:"count"},ticks:{beginAtZero:!0}})})(C,t),[C,t]),_=Object(o.h)(()=>(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=[{label:"overall",data:Object.keys(t).map(e=>t[e]),fill:!1}].concat(e);return Object(d.a)(r,{scaleLabel:{display:!0,labelString:"avg. episode count"},ticks:{beginAtZero:!0}})})(D,r),[D,r]);return Object(c.h)(a.default.Fragment,null,Object(c.h)("div",{className:"charts pure-g"},Object(c.h)(u.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"relative",title:"% of shows per year",options:S}),Object(c.h)(u.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"relative-cumulative",title:"% of shows per year (cumulative)",options:F}),Object(c.h)(u.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"absolute",title:"# of shows per year",options:T}),Object(c.h)(u.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"episodes",title:"Avg. # of Eps per year (TV)",options:_})),Object(c.h)("form",{id:"controls",className:"pure-form pure-g"},Object(c.h)("div",{className:"form-select pure-u-1 pure-u-md-1-2"},Object(c.h)(b,{label:"Genres",entries:n,selected:O,onChange:g,onToggleAll:k})),Object(c.h)("div",{className:"form-select pure-u-1 pure-u-md-1-2"},Object(c.h)(b,{label:"Themes",entries:i,selected:f,onChange:m,onToggleAll:P}))))},P=!0;t.default=k},nytr:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));var n=r("FKx1");function a(e,t,r){return c(e.map(e=>{var r=Object.keys(t),n=Object.assign({},e);return n.fill=!0,n.data=n.data.map((e,n)=>{var a=r[n],c=e/t[a]*100;return c=c.toFixed(2),parseInt(c,10)}),n}),r)}function c(e,t){return{type:"line",data:{labels:n.a,datasets:e.slice(0)},options:{tooltips:{mode:"label"},hover:{mode:"label"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"year"}}],yAxes:[t]}}}}},rePB:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},vlRD:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r("RXBc")}])},waC8:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l}));var n=r("FKx1"),a=r("gVht");function c(e){return Object.keys(e).reduce((t,r)=>(t[r]=o(e[r]),t),{})}function o(e){return n.a.reduce((t,r,n)=>(t[n]=e[r]||0,t),[])}function l(e){return t=>({label:e.key,data:t,fill:!1,backgroundColor:e.color,borderColor:Object(a.b)(e.color,-35)})}},wx14:function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},yLpj:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r}},[["vlRD",0,1,3,4,6,2]]]);