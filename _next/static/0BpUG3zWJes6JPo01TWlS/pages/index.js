(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{RXBc:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return P}));var r=n("rePB"),c=n("FdF9"),o=n("2mXy"),u=n("MOxe"),a=n("LvDl"),i=n("6vW1"),l=n("wx14"),s=n("Ff2n");c.default.createElement;function b(e){var t=e.entries,n=void 0===t?[]:t,r=e.selected,c=void 0===r?[]:r,u=e.onChange,a=e.onToggleAll,i=e.label,b=Object(s.a)(e,["entries","selected","onChange","onToggleAll","label"]);return Object(o.h)("fieldset",b,Object(o.h)("legend",null,i,":"),n.map((function(e){return Object(o.h)(f,Object(l.a)({},e,{onChange:u,selected:c.includes(e.value),key:e.key||e.id}))})),Object(o.h)("button",{type:"button",className:"pure-button",onClick:a},"Toggle All"))}function f(e){var t=e.label,n=e.value,r=e.onChange,c=e.selected,u="entry_".concat(n);return Object(o.h)("label",{htmlFor:u,className:"pure-checkbox"},Object(o.h)("input",{type:"checkbox",checked:c,onChange:function(e){return r(e.target.value,e.target.checked)},value:n,id:u}),t)}var d=n("nytr");var p=n("waC8");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return t.includes(e.key[0])}))}function g(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var n=t.key[0];return e[n]=e[n]||[],e[n].push(t),e[n].sort((function(e,t){return e.key[1]-t.key[1]})),e}),{})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=g(j(e,t.map((function(e){return e.key}))));return t.map((function(e){return Object(p.a)(e)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){return e[t.key[1]]=t.value,e}),{});return Object(p.b)(e)}(n[e.key]))}))}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=g(j(e,t.map((function(e){return e.key}))));return t.map((function(e){return Object(p.a)(e)(function(e){return e.map((function(e){return Math.round(e.sum/e.count||0)}))}(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return"tv"===e.key[1]})).reduce((function(e,t){return h(h({},e),{},Object(r.a)({},t.key[2],t.value))}),{});return Object(p.b)(e)}(n[e.key])))}))}c.default.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=e.totals,n=e.episodeTotals,l=e.genres,s=void 0===l?[]:l,f=e.themes,p=void 0===f?[]:f,O=e.data,h=e.episodeData,j=Object(u.k)([]),g=j[0],m=j[1],k=Object(u.k)([]),P=k[0],x=k[1],N=Object(u.a)((function(e,t){m((function(n){return t?Object(a.uniq)(n.concat(e)):Object(a.without)(n,e)}))}),[m]),A=Object(u.a)((function(e,t){x((function(n){return t?Object(a.uniq)(n.concat(e)):Object(a.without)(n,e)}))}),[x]),C=Object(u.a)((function(){return m((function(e){return e.length===s.length?[]:s.map((function(e){return e.value}))}))}),[m,s]),D=Object(u.a)((function(){return x((function(e){return e.length===p.length?[]:p.map((function(e){return e.value}))}))}),[x,p]),S=Object(u.h)((function(){return p.reduce((function(e,t){return w(w({},e),{},Object(r.a)({},t.key,t))}),{})}),[p]),F=Object(u.h)((function(){return s.reduce((function(e,t){return w(w({},e),{},Object(r.a)({},t.key,t))}),{})}),[s]),T=Object(u.h)((function(){return g.map((function(e){return F[e]})).concat(P.map((function(e){return S[e]})))}),[g,P,F,S]),_=Object(u.h)((function(){return v(O,T)}),[O,T]),E=Object(u.h)((function(){return y(h,T)}),[h,T]),L=Object(u.h)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.map((function(e){var n=Object.keys(t),r=Object.assign({},e);return r.data=r.data.map((function(e,r){var c=n[r],o=e/t[c]*100;return o=o.toFixed(2),parseInt(o,10)})),r}));return Object(d.a)(n,{scaleLabel:{display:!0,labelString:"percent"},ticks:{max:100,steps:20,beginAtZero:!0}})}(_,t)}),[_,t]),X=Object(u.h)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Object(d.b)(e,t,{stacked:!0,scaleLabel:{display:!0,labelString:"percent"},ticks:{beginAtZero:!0}})}(_,t)}),[_,t]),B=Object(u.h)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[{label:"total",data:Object.keys(t).map((function(e){return t[e]})),fill:!1}].concat(e);return Object(d.a)(n,{scaleLabel:{display:!0,labelString:"count"},ticks:{beginAtZero:!0}})}(_,t)}),[_,t]),R=Object(u.h)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[{label:"overall",data:Object.keys(t).map((function(e){return t[e]})),fill:!1}].concat(e);return Object(d.a)(n,{scaleLabel:{display:!0,labelString:"avg. episode count"},ticks:{beginAtZero:!0}})}(E,n)}),[E,n]);return Object(o.h)(c.default.Fragment,null,Object(o.h)("div",{className:"charts pure-g"},Object(o.h)(i.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"relative",title:"% of shows per year",options:L}),Object(o.h)(i.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"relative-cumulative",title:"% of shows per year (cumulative)",options:X}),Object(o.h)(i.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"absolute",title:"# of shows per year",options:B}),Object(o.h)(i.a,{className:"chart pure-u-1 pure-u-lg-1-2",downloadable:!0,id:"episodes",title:"Avg. # of Eps per year (TV)",options:R})),Object(o.h)("form",{id:"controls",className:"pure-form pure-g"},Object(o.h)("div",{className:"form-select pure-u-1 pure-u-md-1-2"},Object(o.h)(b,{label:"Genres",entries:s,selected:g,onChange:N,onToggleAll:C})),Object(o.h)("div",{className:"form-select pure-u-1 pure-u-md-1-2"},Object(o.h)(b,{label:"Themes",entries:p,selected:P,onChange:A,onToggleAll:D}))))},P=!0;t.default=k},nytr:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n("FKx1");function c(e,t,n){return o(e.map((function(e){var n=Object.keys(t),r=Object.assign({},e);return r.fill=!0,r.data=r.data.map((function(e,r){var c=n[r],o=e/t[c]*100;return o=o.toFixed(2),parseInt(o,10)})),r})),n)}function o(e,t){return{type:"line",data:{labels:r.a,datasets:e.slice(0)},options:{tooltips:{mode:"label"},hover:{mode:"label"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"year"}}],yAxes:[t]}}}}},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},vlRD:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RXBc")}])},waC8:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return a}));var r=n("FKx1"),c=n("gVht");function o(e){return Object.keys(e).reduce((function(t,n){return t[n]=u(e[n]),t}),{})}function u(e){return r.a.reduce((function(t,n,r){return t[r]=e[n]||0,t}),[])}function a(e){return function(t){return{label:e.key,data:t,fill:!1,backgroundColor:e.color,borderColor:Object(c.b)(e.color,-35)}}}},wx14:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n}},[["vlRD",0,1,3,4,6,2]]]);