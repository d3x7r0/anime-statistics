/*!
 * nbb-anime-statistics - v0.0.3 - 2018-01-25
 * Copyright (c) 2018 Lu√≠s Nabais <dextro@nonsensebb.com>
 * Licensed MIT
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.types=t():e.types=t()}("undefined"!=typeof self?self:this,function(){return webpackJsonp_object_Object_([1],{263:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return o().then(function(e){console.debug("Episode Count per Genre Data",e),l(e),f(e)})}function o(){return h.default.DB.getTypesData(h.default.START_YEAR,h.default.END_YEAR).then(function(e){return u(e&&e.rows)}).then(function(e){var t=(0,v.default)(e),n=h.default.generateColors(t.length,"show-type-year-data");return t.map(function(t,a){return h.default.buildEntry({key:t,color:n[a]})(e[t])})})}function u(e){var t=[].concat(e||[]).reduce(function(e,t){var n=t.key[1],a=t.key[0];return e[n]=e[n]||{},e[n][a]=t.value,e},{});return h.default.reduceToActiveYears(t)}function l(e){k.types&&k.types.destroy();var t={scaleLabel:{display:!0,labelString:"count"},ticks:{beginAtZero:!0}};k.types=h.default.drawLineChart(g,e,t)}function f(e){k["types-relative"]&&k["types-relative"].destroy();var t={stacked:!0,scaleLabel:{display:!0,labelString:"percent"},ticks:{max:100,steps:20,beginAtZero:!0}},n=h.default.getTotals(),a=e.map(function(e){var t=(0,v.default)(n),a=(0,c.default)({},e);return a.fill=!0,a.data=a.data.map(function(e,a){var r=t[a],o=e/n[r]*100;return o=o.toFixed(2),parseInt(o,10)}),a});k["types-relative"]=h.default.drawLineChart(w,a,t)}function i(){h.default.setupDownloads(),r()}var s=n(24),d=a(s),p=n(17),c=a(p),y=n(23),v=a(y),b=n(36),h=a(b),g=void 0,w=void 0,k={types:null,"types-relative":null};!function(){g=h.default.printChart("types","Types of shows per year"),w=h.default.printChart("typesRelative","Types of shows per year (%)"),d.default.all([h.default.init()]).then(i)}()}},[263])});
//# sourceMappingURL=types.js.map